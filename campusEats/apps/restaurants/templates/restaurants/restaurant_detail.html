<!-- restaurants/restaurant_detail.html -->

<!--link the style sheet-->

{% extends 'base.html' %}
{% load static %}
{% block title %}Welcome - My Website{% endblock %}


{% block content %}



<head>
    <link rel="stylesheet" href="{% static 'restaurants/restaurant_details.css' %}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">

</head>

<body>

    <div class="row">
        <div class="column column_1">
 
          <div class="img-container">
            <img src="{{ restaurant.ImageURL }}" alt="{{ restaurant.Name }}">
        </div>
        <div class="button-container">
            <a href="{% url 'create_review' %}?restaurant_id={{ restaurant.RestaurantID }}"> <button class="review-btn">Add Review </button></a>
        </div>
        <ul>
            {% for review in reviews %}
              <li>
                <!-- Display review details -->
                By User: {{ review.UserID }}
                Rating: {{ review.Rating }}
                Description: {{ review.Description }}
                At Timestamp: {{ review.Timestamp }}
                
                <!-- Check if it's a parent review or a child review -->
                {% if review.ParentReviewID == None %}
                  <!-- Add a button to redirect to the restaurant_detail.html page for parent reviews -->
                  <a href="{% url 'create_review' %}?restaurant_id={{ restaurant.RestaurantID }}&review_id={{ review.ReviewID }}">
                    <button class="review-detail-btn">Add comment</button>
                  </a>
                {% else %}
                  <!-- Display a child comment, you can use additional styling or indentation -->
                  <div class="child-comment">
                    By User: {{ review.UserID }}
                    Rating: {{ review.Rating }}
                    Description: {{ review.Description }}
                    At Timestamp: {{ review.Timestamp }}
                  </div>
                {% endif %}
              </li>
            {% endfor %}
          </ul>
          
        </div>
        <div class="column column_2">
        <div class="bookmark-container">
            <a href="#" class="bookmark-link">
                <i class="fa fa-bookmark"></i> Bookmark
              </a>
        </div>
        <div class="name-container">
            <h1>{{ restaurant.Name }}</h1>
        </div>

        <div class="address-container">
            <span class="location-icon"><i class="fas fa-map-marker-alt"></i></span>
            {{ restaurant.Location }}
            <br><br>
            <div class="descr-container">{{ restaurant.Description }}</div>
        </div>

                
    
        </div>
      </div>

      

</body>

<!-- Add more details as needed -->

{% endblock %}
